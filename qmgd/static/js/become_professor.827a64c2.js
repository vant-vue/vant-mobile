(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["become_professor"],{"61f7":function(e,s,t){"use strict";function n(e){return/^1[0-9]{10}$/.test(e)}function r(e){return/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/.test(e)}t.d(s,"b",(function(){return n})),t.d(s,"a",(function(){return r}))},"824d":function(e,s,t){},"9c9e":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"field_box"},[t("van-cell-group",{staticClass:"name"},[t("van-field",{attrs:{autosize:"",required:"",maxlength:"8",clearable:"",label:"昵称",placeholder:"为自己取一个响亮的名字","error-message":e.errmsg.nickName},on:{focus:function(s){return e.focusMsg("nickName")}},model:{value:e.sub.nickName,callback:function(s){e.$set(e.sub,"nickName",s)},expression:"sub.nickName"}}),t("van-field",{attrs:{rows:"1",autosize:"",maxlength:"50",label:"个人介绍",type:"textarea",placeholder:"一句话介绍自己不可以包含联系方式","error-message":e.errmsg.introduce},on:{focus:function(s){return e.focusMsg("introduce")}},model:{value:e.sub.introduce,callback:function(s){e.$set(e.sub,"introduce",s)},expression:"sub.introduce"}})],1),t("div",{staticClass:"title"},[e._v("身份信息")]),t("van-cell-group",{staticClass:"id_card"},[t("van-field",{attrs:{maxlength:"6",autosize:"",required:"",clearable:"",label:"姓名",placeholder:"请输入姓名","error-message":e.errmsg.name},on:{focus:function(s){return e.focusMsg("name")}},model:{value:e.sub.name,callback:function(s){e.$set(e.sub,"name",s)},expression:"sub.name"}}),t("van-field",{attrs:{autosize:"",required:"",clearable:"",maxlength:"18",type:"number",label:"身份证号",placeholder:"请输入身份证号","error-message":e.errmsg.idNumber},on:{focus:function(s){return e.focusMsg("idNumber")}},model:{value:e.sub.idNumber,callback:function(s){e.$set(e.sub,"idNumber",s)},expression:"sub.idNumber"}}),t("div",{staticClass:"upload_box"},[t("div",{staticClass:"ti"},[e._v("请上传身份证正面")]),t("van-uploader",{attrs:{"max-count":1},model:{value:e.file.fontUrl,callback:function(s){e.$set(e.file,"fontUrl",s)},expression:"file.fontUrl"}})],1),t("div",{staticClass:"upload_box"},[t("div",{staticClass:"ti"},[e._v("请上传身份证反面")]),t("van-uploader",{attrs:{"max-count":1},model:{value:e.file.backUrl,callback:function(s){e.$set(e.file,"backUrl",s)},expression:"file.backUrl"}})],1)],1),t("van-cell-group",{staticClass:"name"},[t("van-field",{attrs:{rows:"2",autosize:"",label:"申请理由",type:"textarea",maxlength:"200",placeholder:"说出你的优势、上传你的历史推荐","show-word-limit":"","error-message":e.errmsg.reson},on:{focus:function(s){return e.focusMsg("reson")}},model:{value:e.sub.reson,callback:function(s){e.$set(e.sub,"reson",s)},expression:"sub.reson"}}),t("van-uploader",{attrs:{multiple:"","max-count":3},model:{value:e.file.resonFile,callback:function(s){e.$set(e.file,"resonFile",s)},expression:"file.resonFile"}})],1)],1),t("div",{staticClass:"fot_box"},[t("van-button",{staticClass:"btn",attrs:{type:"primary",color:"#ff9900",block:""},on:{click:e.sumitBtn}},[e._v(e._s(e.isBtn?"提交中...":"提交申请"))])],1)])},r=[],i=(t("e90c"),t("b403"),t("e096")),o=t("4ec3"),l=t("61f7"),a={name:"become_professor",data:function(){return{sub:{nickName:"",introduce:"",name:"",idNumber:"",reson:"",backUrl:"",fontUrl:"",resonFile:"",businessId:this.$route.query.businessId},errmsg:{nickName:"",introduce:"",name:"",idNumber:"",reson:""},file:{backUrl:[],fontUrl:[],resonFile:[]},isBtn:!1}},methods:{sumitBtn:function(){var e=this;if(!this.isBtn){if(""==this.sub.nickName)return this.errmsg.nickName="请输入昵称",void(document.documentElement.scrollTop=0);if(""==this.sub.introduce)return this.errmsg.introduce="请输入个人介绍",void(document.documentElement.scrollTop=0);if(""==this.sub.name)return this.errmsg.name="请输入姓名",void(document.documentElement.scrollTop=0);if(!Object(l["a"])(this.sub.idNumber))return this.errmsg.idNumber="身份证号格式错误",void(document.documentElement.scrollTop=0);if(""!=this.sub.reson)if(this.sub.reson.length<10)this.errmsg.reson="申请理由不少于10个字符";else if(0!=this.file.fontUrl.length)if(0!=this.file.backUrl.length)if(0!=this.file.resonFile.length){this.isBtn=!0,this.sub.fontUrl=this.file.fontUrl[0].content,this.sub.backUrl=this.file.backUrl[0].content;for(var s=[],t=0;t<this.file.resonFile.length;t++)s.push(this.file.resonFile[t].content);this.sub.resonFile=s.join("|"),i["a"].loading({message:"数据提交中...",forbidClick:!0}),Object(o["A"])(this.sub).then((function(s){s.flag&&(i["a"].success("提交成功"),setTimeout((function(){e.$router.push({path:"/user"})}),800))})).catch((function(e){console.log(e)}))}else Object(i["a"])("请至少上传一张历史战绩截图");else Object(i["a"])("请上传身份证反面");else Object(i["a"])("请上传身份证正面");else this.errmsg.reson="请输入申请理由"}},focusMsg:function(e){this.errmsg[e]=""}}},u=a,c=(t("d20a"),t("5511")),f=Object(c["a"])(u,n,r,!1,null,"ae5d4e4e",null);s["default"]=f.exports},d20a:function(e,s,t){"use strict";var n=t("824d"),r=t.n(n);r.a},e90c:function(e,s,t){"use strict";var n=t("91fe"),r=t("fee7"),i=t("8c47"),o=t("fb11"),l=[].join,a=r!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:a||!u},{join:function(e){return l.call(i(this),void 0===e?",":e)}})}}]);
//# sourceMappingURL=become_professor.827a64c2.js.map