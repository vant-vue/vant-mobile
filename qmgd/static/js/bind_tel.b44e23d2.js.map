{"version":3,"sources":["webpack:///./src/utils/validate.js","webpack:///./src/view/user/bind_tel.vue?db04","webpack:///src/view/user/bind_tel.vue","webpack:///./src/view/user/bind_tel.vue?5fd4","webpack:///./src/view/user/bind_tel.vue","webpack:///./src/view/user/bind_tel.vue?0c39"],"names":["isMobile","s","test","isIdNumber","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","errmsg","on","getFocus","model","value","callback","$$v","phone","expression","codeerrmsg","code","sendMsg","slot","_v","_s","smsBtnTxt","bdPhone","staticRenderFns","name","data","methods","component"],"mappings":"4GAYO,SAASA,EAAUC,GACxB,MAAO,eAAeC,KAAKD,GAmBtB,SAASE,EAAWF,GAC1B,MAAO,yHAAyHC,KAAKD,GAjCtI,qE,2CCAA,IAAIG,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,MAAM,YAAc,SAAS,gBAAgBP,EAAIQ,QAAQC,GAAG,CAAC,MAAQT,EAAIU,UAAUC,MAAM,CAACC,MAAOZ,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAIe,MAAMD,GAAKE,WAAW,WAAWZ,EAAG,YAAY,CAACG,MAAM,CAAC,OAAS,GAAG,UAAY,GAAG,UAAY,IAAI,MAAQ,QAAQ,YAAc,WAAW,gBAAgBP,EAAIiB,YAAYN,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIkB,KAAKJ,GAAKE,WAAW,SAAS,CAACZ,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,QAAQ,MAAQ,UAAU,KAAO,WAAWE,GAAG,CAAC,MAAQT,EAAImB,SAASC,KAAK,UAAU,CAACpB,EAAIqB,GAAGrB,EAAIsB,GAAGtB,EAAIuB,eAAe,GAAGnB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,UAAU,MAAQ,IAAIE,GAAG,CAAC,MAAQT,EAAIwB,UAAU,CAACxB,EAAIqB,GAAG,SAAS,IAAI,QACh5BI,EAAkB,G,gDCiCtB,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLZ,MAAO,GACb,UACA,kBACA,SACA,QACA,eACA,cACA,gBAGEa,QAAS,CACX,QADA,WACA,WACA,aAGA,2BAIA,iBACA,kBACA,SAEA,WACA,qBACA,kBAGA,uBAZA,wBAgBA,SAtBA,WAuBA,gBACA,UAxBA,WAwBA,WACA,uBAIA,OAHA,cACA,4BACA,qBAGA,mBACA,uCACA,uBACA,gBACA,MACA,QApCA,WAoCA,WACA,8BAIA,iBAIA,gCAIA,OACA,iBACA,gBAEA,kBACA,kBACA,SAEA,uBACA,uBACA,iCACA,SAGA,4BAjBA,iCAJA,8BAJA,yBCtFqc,I,wBCQjcC,EAAY,eACd,EACA9B,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAI,E,6CCnBf,yBAAktB,EAAG,G","file":"static/js/bind_tel.b44e23d2.js","sourcesContent":["/**\n * 邮箱\n * @param {*} s\n */\nexport function isEmail (s) {\n  return /^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(s)\n}\n\n/**\n * 手机号码\n * @param {*} s\n */\nexport function isMobile (s) {\n  return /^1[0-9]{10}$/.test(s)\n}\n\n/**\n * 电话号码\n * @param {*} s\n */\nexport function isPhone (s) {\n  return /^([0-9]{3,4}-)?[0-9]{7,8}$/.test(s)\n}\n\n/**\n * URL地址\n * @param {*} s\n */\nexport function isURL (s) {\n  return /^http[s]?:\\/\\/.*/.test(s)\n}\r\n\r\nexport function isIdNumber(s){\r\n\treturn /^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/.test(s);\n}\r\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"main_box\"},[_c('div',{staticClass:\"bind_box\"},[_c('van-field',{attrs:{\"label\":\"手机号\",\"placeholder\":\"请输入手机号\",\"error-message\":_vm.errmsg},on:{\"focus\":_vm.getFocus},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"maxlength\":\"6\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\",\"error-message\":_vm.codeerrmsg},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"color\":\"#cccccc\",\"type\":\"primary\"},on:{\"click\":_vm.sendMsg},slot:\"button\"},[_vm._v(_vm._s(_vm.smsBtnTxt))])],1),_c('div',{staticClass:\"btn\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"color\":\"#FF9900\",\"block\":\"\"},on:{\"click\":_vm.bdPhone}},[_vm._v(\"绑定\")])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- <Header></Header> -->\n    <div class=\"main_box\">\n      <div class=\"bind_box\">\n        <van-field v-model=\"phone\"\n                   label=\"手机号\"\n                   placeholder=\"请输入手机号\"\n                   :error-message=\"errmsg\" @focus=\"getFocus\"/>\n        <van-field v-model=\"code\"\n                   center\n                   clearable\r\n\t\t\t\t   maxlength=\"6\"\n                   label=\"短信验证码\"\n                   placeholder=\"请输入短信验证码\"\r\n\t\t\t\t   :error-message=\"codeerrmsg\">\n          <van-button slot=\"button\"\n                      size=\"small\"\n                      color=\"#cccccc\"\n                      type=\"primary\" @click=\"sendMsg\">{{smsBtnTxt}}</van-button>\n        </van-field>\n        <div class=\"btn\">\n          <van-button type=\"primary\"\n                      color=\"#FF9900\"\n                      block @click=\"bdPhone\">绑定</van-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\r\n\timport { Toast } from 'vant';\r\n\timport {bdPhone,getPhoneCode} from \"@/api/api\";\r\n\timport {isMobile} from \"@/utils/validate\";\nexport default {\n  name: \"bind_tel\",\n  data() {\n    return {\n      phone: \"\",\r\n\t  errmsg:\"\",\r\n\t  smsBtnTxt:\"发送验证码\",\r\n\t  isDjs:false,\r\n\t  code:\"\",\r\n\t  secondTimer:60,\r\n\t  codeerrmsg:\"\",\r\n\t  checkPhone:\"\"\n    };\n  },\n  methods: {\r\n\t  sendMsg(){\r\n\t\t  if(this.isDjs){\r\n\t\t\t  return;\r\n\t\t  }\r\n\t\t  if(!isMobile(this.phone)){//\r\n\t\t\t   this.errmsg=\"手机号格式错误\";\r\n\t\t\t   return;\r\n\t\t  }\r\n\t\t  getPhoneCode()\r\n\t\t    .then(res => {\r\n\t\t      if (res.flag) {\r\n\t\t        //调用成功\r\n\t\t        this.isDjs=true;\r\n\t\t\t\tthis.checkPhone = this.phone;\r\n\t\t        this.codeTimer();\r\n\t\t      }\r\n\t\t    })\r\n\t\t    .catch(err => {\r\n\t\t      // 加载状态结束\r\n\t\t    });\r\n\t\t  \r\n\t  },getFocus(){\r\n\t\t  this.errmsg=\"\";\r\n\t  },codeTimer(){\n\t\tif(this.secondTimer <= 0){\n\t\t\tthis.isDjs=false;\r\n\t\t\tthis.smsBtnTxt=\"发送验证码\";\n\t\t\tthis.secondTimer = 60;\n\t\t\treturn;\n\t\t}\n\t\tthis.secondTimer--;\r\n\t\tthis.smsBtnTxt = this.secondTimer + \"s后获取\";\n\t\tsetTimeout(() => {\n\t\t\tthis.codeTimer();\n\t\t}, 1000);\n\t},bdPhone(){\r\n\t\tif(!isMobile(this.phone)){//\r\n\t\t\t   this.errmsg=\"手机号格式错误\";\r\n\t\t\t   return;\r\n\t\t}\r\n\t\tif(this.code==''){\r\n\t\t\tthis.codeerrmsg=\"请输入验证码\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.checkPhone!=this.phone){\r\n\t\t\tthis.errmsg=\"更换手机号请重新发送验证码\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet map = {\r\n\t\t\tphone:this.phone,\r\n\t\t\tcode:this.code\r\n\t\t}\r\n\t\tbdPhone(map)\r\n\t\t  .then(res => {\r\n\t\t    if (res.flag) {\r\n\t\t      //调用成功\r\n\t\t      Toast.success('绑定成功');\r\n\t\t\t  setTimeout(() => {\r\n\t\t\t  \tthis.$router.push({ path: \"/user\" });\r\n\t\t\t  }, 800);\r\n\t\t    }\r\n\t\t  })\r\n\t\t  .catch(err => {\r\n\t\t    // 加载状态结束\r\n\t\t  });\r\n\t\t\r\n\t}\r\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.bind_box {\n  padding-top: 10px;\n  .btn {\n    box-sizing: border-box;\n    padding: 30px 20px 0;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./bind_tel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./bind_tel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bind_tel.vue?vue&type=template&id=ddfb9ed0&scoped=true&\"\nimport script from \"./bind_tel.vue?vue&type=script&lang=js&\"\nexport * from \"./bind_tel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bind_tel.vue?vue&type=style&index=0&id=ddfb9ed0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ddfb9ed0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./bind_tel.vue?vue&type=style&index=0&id=ddfb9ed0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./bind_tel.vue?vue&type=style&index=0&id=ddfb9ed0&lang=less&scoped=true&\""],"sourceRoot":""}